{"ast":null,"code":"import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase';\nexport const signup = (email, password, callback) => async dispatch => {\n  try {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          dispatch({\n            type: SIGNUP_SUCCESS,\n            payload: 'Conta criada com sucesso!'\n          });\n        } else {\n          // No user is signed in.\n          dispatch({\n            type: SIGNUP_ERROR,\n            payload: 'Não foi possível conectar o usuário. Tente novamente.'\n          });\n        }\n      }); //firebase.auth().onAuthStateChanged\n\n      callback();\n    }) //then\n    .catch(error => {\n      dispatch({\n        type: SIGNUP_ERROR,\n        payload: `Erro na criação do usuário: ${error}`\n      });\n      callback();\n    }); //catch\n  } catch (error) {\n    dispatch({\n      type: SIGNUP_ERROR,\n      payload: `Erro na conexão com o firebase: ${error}`\n    });\n    callback();\n  }\n};","map":{"version":3,"sources":["/home/jefferson/Desenvolvimento/websies2020-1/WEB_2020-1/IMPLEMENTACOES/aula-es-si/aula09-redux-firebase-authentication/src/store/actions/authActionCreator.js"],"names":["SIGNUP_SUCCESS","SIGNUP_ERROR","firebase","signup","email","password","callback","dispatch","auth","createUserWithEmailAndPassword","then","onAuthStateChanged","user","type","payload","catch","error"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,QAA6C,eAA7C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B,MAAMC,QAAN,IAAkB;AACnE,MAAI;AACAL,IAAAA,QAAQ,CAACM,IAAT,GACKC,8BADL,CACoCL,KADpC,EAC2CC,QAD3C,EAEKK,IAFL,CAGQ,MAAM;AACFR,MAAAA,QAAQ,CAACM,IAAT,GAAgBG,kBAAhB,CAAmC,UAAUC,IAAV,EAAgB;AAC/C,YAAIA,IAAJ,EAAU;AACN;AACAL,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEb,cADD;AAELc,YAAAA,OAAO,EAAE;AAFJ,WAAD,CAAR;AAIH,SAND,MAMO;AACH;AACAP,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEZ,YADD;AAELa,YAAAA,OAAO,EAAE;AAFJ,WAAD,CAAR;AAIH;AACJ,OAdD,EADE,CAeA;;AACFR,MAAAA,QAAQ;AACX,KApBT,EAqBK;AArBL,KAsBKS,KAtBL,CAuBSC,KAAD,IAAW;AACPT,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEZ,YADD;AAELa,QAAAA,OAAO,EAAG,+BAA8BE,KAAM;AAFzC,OAAD,CAAR;AAIAV,MAAAA,QAAQ;AACX,KA7BT,EADA,CA+BK;AAER,GAjCD,CAiCE,OAAOU,KAAP,EAAc;AAEZT,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEZ,YADD;AAELa,MAAAA,OAAO,EAAG,mCAAkCE,KAAM;AAF7C,KAAD,CAAR;AAIAV,IAAAA,QAAQ;AACX;AACJ,CA1CM","sourcesContent":["import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase'\n\nexport const signup = (email, password, callback) => async dispatch => {\n    try {\n        firebase.auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then(\n                () => {\n                    firebase.auth().onAuthStateChanged(function (user) {\n                        if (user) {\n                            // User is signed in.\n                            dispatch({\n                                type: SIGNUP_SUCCESS,\n                                payload: 'Conta criada com sucesso!'\n                            })\n                        } else {\n                            // No user is signed in.\n                            dispatch({\n                                type: SIGNUP_ERROR,\n                                payload: 'Não foi possível conectar o usuário. Tente novamente.'\n                            })\n                        }\n                    })//firebase.auth().onAuthStateChanged\n                    callback()\n                }\n            )//then\n            .catch(\n                (error) => {\n                    dispatch({\n                        type: SIGNUP_ERROR,\n                        payload: `Erro na criação do usuário: ${error}`\n                    })\n                    callback()\n                }\n            )//catch\n\n    } catch (error) {\n\n        dispatch({\n            type: SIGNUP_ERROR,\n            payload: `Erro na conexão com o firebase: ${error}`\n        })\n        callback()\n    }\n}"]},"metadata":{},"sourceType":"module"}