{"ast":null,"code":"import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase';\nexport const signup = (email, password, callback) => async dispatch => {\n  try {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          dispatch({\n            type: SIGNUP_SUCCESS,\n            payload: {\n              authMsg: 'Conta criada com sucesso!',\n              user: user.email\n            }\n          });\n          callback(user);\n        } else {\n          // No user is signed in.\n          dispatch({\n            type: SIGNUP_ERROR,\n            payload: {\n              authMsg: 'Não foi possível conectar o usuário. Tente novamente.'\n            }\n          });\n          callback();\n        }\n      }); //firebase.auth().onAuthStateChanged\n    }) //then\n    .catch(error => {\n      dispatch({\n        type: SIGNUP_ERROR,\n        payload: {\n          authMsg: `Erro na criação do usuário: ${error}`\n        }\n      });\n      callback();\n    }); //catch\n  } catch (error) {\n    dispatch({\n      type: SIGNUP_ERROR,\n      payload: {\n        authMsg: `Erro na conexão com o firebase: ${error}`\n      }\n    });\n    callback();\n  }\n};","map":{"version":3,"sources":["/home/jefferson/Desenvolvimento/websies2020-1/WEB_2020-1/IMPLEMENTACOES/aula-es-si/aula09-redux-firebase-authentication/src/store/actions/authActionCreator.js"],"names":["SIGNUP_SUCCESS","SIGNUP_ERROR","firebase","signup","email","password","callback","dispatch","auth","createUserWithEmailAndPassword","then","onAuthStateChanged","user","type","payload","authMsg","catch","error"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,QAA6C,eAA7C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B,MAAMC,QAAN,IAAkB;AACnE,MAAI;AACAL,IAAAA,QAAQ,CAACM,IAAT,GACKC,8BADL,CACoCL,KADpC,EAC2CC,QAD3C,EAEKK,IAFL,CAGQ,MAAM;AACFR,MAAAA,QAAQ,CAACM,IAAT,GAAgBG,kBAAhB,CAAmC,UAAUC,IAAV,EAAgB;AAC/C,YAAIA,IAAJ,EAAU;AACNL,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEb,cADD;AAELc,YAAAA,OAAO,EAAE;AAACC,cAAAA,OAAO,EAAE,2BAAV;AAAuCH,cAAAA,IAAI,EAAEA,IAAI,CAACR;AAAlD;AAFJ,WAAD,CAAR;AAIAE,UAAAA,QAAQ,CAACM,IAAD,CAAR;AACH,SAND,MAMO;AACH;AACAL,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEZ,YADD;AAELa,YAAAA,OAAO,EAAE;AAACC,cAAAA,OAAO,EAAE;AAAV;AAFJ,WAAD,CAAR;AAIAT,UAAAA,QAAQ;AACX;AACJ,OAfD,EADE,CAgBA;AAEL,KArBT,EAsBK;AAtBL,KAuBKU,KAvBL,CAwBSC,KAAD,IAAW;AACPV,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEZ,YADD;AAELa,QAAAA,OAAO,EAAE;AAACC,UAAAA,OAAO,EAAG,+BAA8BE,KAAM;AAA/C;AAFJ,OAAD,CAAR;AAIAX,MAAAA,QAAQ;AACX,KA9BT,EADA,CAgCK;AAER,GAlCD,CAkCE,OAAOW,KAAP,EAAc;AACZV,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEZ,YADD;AAELa,MAAAA,OAAO,EAAE;AAACC,QAAAA,OAAO,EAAG,mCAAkCE,KAAM;AAAnD;AAFJ,KAAD,CAAR;AAIAX,IAAAA,QAAQ;AACX;AACJ,CA1CM","sourcesContent":["import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase'\n\nexport const signup = (email, password, callback) => async dispatch => {\n    try {\n        firebase.auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then(\n                () => {\n                    firebase.auth().onAuthStateChanged(function (user) {\n                        if (user) {\n                            dispatch({\n                                type: SIGNUP_SUCCESS,\n                                payload: {authMsg: 'Conta criada com sucesso!', user: user.email}\n                            })\n                            callback(user)\n                        } else {\n                            // No user is signed in.\n                            dispatch({\n                                type: SIGNUP_ERROR,\n                                payload: {authMsg: 'Não foi possível conectar o usuário. Tente novamente.'}\n                            })\n                            callback()\n                        }\n                    })//firebase.auth().onAuthStateChanged\n                    \n                }\n            )//then\n            .catch(\n                (error) => {\n                    dispatch({\n                        type: SIGNUP_ERROR,\n                        payload: {authMsg: `Erro na criação do usuário: ${error}`}\n                    })\n                    callback()\n                }\n            )//catch\n\n    } catch (error) {\n        dispatch({\n            type: SIGNUP_ERROR,\n            payload: {authMsg: `Erro na conexão com o firebase: ${error}`}\n        })\n        callback()\n    }\n}"]},"metadata":{},"sourceType":"module"}