{"ast":null,"code":"import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase';\nexport const signup = (email, password, callback) => async dispatch => {\n  try {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          dispatch({\n            type: SIGNUP_SUCCESS,\n            payload: 'Conta criada com sucesso!'\n          });\n        } else {\n          // No user is signed in.\n          dispatch({\n            type: SIGNUP_ERROR,\n            payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n          });\n        }\n      });\n      callback();\n    }).catch(error => {\n      console.log('1:' + error);\n      dispatch({\n        type: SIGNUP_ERROR,\n        payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n      });\n    });\n  } catch (error) {\n    dispatch({\n      type: SIGNUP_ERROR,\n      payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n    });\n  }\n};","map":{"version":3,"sources":["/home/jefferson/Desenvolvimento/websies2020-1/WEB_2020-1/IMPLEMENTACOES/aula-es-si/aula09-redux-firebase-authentication/src/store/actions/authActionCreator.js"],"names":["SIGNUP_SUCCESS","SIGNUP_ERROR","firebase","signup","email","password","callback","dispatch","auth","createUserWithEmailAndPassword","then","onAuthStateChanged","user","type","payload","catch","error","console","log"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,QAA6C,eAA7C;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B,MAAMC,QAAN,IAAkB;AACnE,MAAI;AACAL,IAAAA,QAAQ,CAACM,IAAT,GACKC,8BADL,CACoCL,KADpC,EAC2CC,QAD3C,EAEKK,IAFL,CAGQ,MAAM;AACFR,MAAAA,QAAQ,CAACM,IAAT,GAAgBG,kBAAhB,CAAmC,UAAUC,IAAV,EAAgB;AAC/C,YAAIA,IAAJ,EAAU;AACN;AACAL,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEb,cADD;AAELc,YAAAA,OAAO,EAAE;AAFJ,WAAD,CAAR;AAIH,SAND,MAMO;AACH;AACAP,UAAAA,QAAQ,CAAC;AACLM,YAAAA,IAAI,EAAEZ,YADD;AAELa,YAAAA,OAAO,EAAE;AAFJ,WAAD,CAAR;AAIH;AACJ,OAdD;AAeAR,MAAAA,QAAQ;AACX,KApBT,EAsBKS,KAtBL,CAuBSC,KAAD,IAAW;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAOF,KAAnB;AACAT,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEZ,YADD;AAELa,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH,KA7BT;AAiCH,GAlCD,CAkCE,OAAOE,KAAP,EAAc;AAEZT,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEZ,YADD;AAELa,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAKH;AACJ,CA3CM","sourcesContent":["import { SIGNUP_SUCCESS, SIGNUP_ERROR } from \"./actionTypes\";\nimport firebase from '../../utils/firebase'\n\nexport const signup = (email, password, callback) => async dispatch => {\n    try {\n        firebase.auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then(\n                () => {\n                    firebase.auth().onAuthStateChanged(function (user) {\n                        if (user) {\n                            // User is signed in.\n                            dispatch({\n                                type: SIGNUP_SUCCESS,\n                                payload: 'Conta criada com sucesso!'\n                            })\n                        } else {\n                            // No user is signed in.\n                            dispatch({\n                                type: SIGNUP_ERROR,\n                                payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n                            })\n                        }\n                    });\n                    callback()\n                }\n            )\n            .catch(\n                (error) => {\n                    console.log('1:' + error)\n                    dispatch({\n                        type: SIGNUP_ERROR,\n                        payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n                    })\n                }\n\n            )\n\n    } catch (error) {\n\n        dispatch({\n            type: SIGNUP_ERROR,\n            payload: 'Algum erro ocorreu durante a criação da conta. Tente novamente.'\n\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}