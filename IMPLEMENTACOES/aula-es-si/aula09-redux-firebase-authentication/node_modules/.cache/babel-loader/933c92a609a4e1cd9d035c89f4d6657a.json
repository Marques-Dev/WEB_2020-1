{"ast":null,"code":"var _jsxFileName = \"/home/jefferson/Desenvolvimento/websies2020-1/WEB_2020-1/IMPLEMENTACOES/aula-es-si/aula07-crud-firebase/src/components/Edit.jsx\";\nimport React, { Component } from 'react';\nimport FirebaseContext from '../utils/FirebaseContext';\nimport FirebaseService from '../services/FirebaseService';\n\nconst EditPage = props => /*#__PURE__*/React.createElement(FirebaseContext.Consumer, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }\n}, firebase => /*#__PURE__*/React.createElement(Edit, {\n  firebase: firebase,\n  id: props.match.params.id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 22\n  }\n}));\n\nclass Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nome: '',\n      curso: '',\n      IRA: ''\n    };\n    this.setNome = this.setNome.bind(this);\n    this.setCurso = this.setCurso.bind(this);\n    this.setIRA = this.setIRA.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    /*this.props.firebase.getFirestore().collection('estudantes').doc(this.props.id).get()\n        .then((doc) => {\n            //console.log(res.data)\n            this.setState({\n                nome: doc.data().nome,\n                curso: doc.data().curso,\n                IRA: doc.data().IRA\n            })\n        })\n        .catch(error => console.log(error))*/\n    FirebaseService.retrieve(this.props.firebase.getFirestore(), estudante => {\n      if (estudante) this.setState({\n        nome: estudante.nome,\n        curso: estudante.curso,\n        IRA: estudante.IRA\n      });\n    }, this.props.firebase.getFirestore());\n  }\n\n  setNome(e) {\n    this.setState({\n      nome: e.target.value\n    });\n  }\n\n  setCurso(e) {\n    this.setState({\n      curso: e.target.value\n    });\n  }\n\n  setIRA(e) {\n    this.setState({\n      IRA: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    this.props.firebase.getFirestore().collection('estudantes').doc(this.props.id).set({\n      nome: this.state.nome,\n      curso: this.state.curso,\n      IRA: this.state.IRA\n    }).then(() => {\n      console.log('Estudante editado.');\n    }).catch(() => {\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Editar Estudante\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, \"Nome: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.nome,\n      onChange: this.setNome,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, \"Curso: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.curso,\n      onChange: this.setCurso,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, \"IRA: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.IRA,\n      onChange: this.setIRA,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Editar Estudante\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default EditPage;","map":{"version":3,"sources":["/home/jefferson/Desenvolvimento/websies2020-1/WEB_2020-1/IMPLEMENTACOES/aula-es-si/aula07-crud-firebase/src/components/Edit.jsx"],"names":["React","Component","FirebaseContext","FirebaseService","EditPage","props","firebase","match","params","id","Edit","constructor","state","nome","curso","IRA","setNome","bind","setCurso","setIRA","onSubmit","componentDidMount","retrieve","getFirestore","estudante","setState","e","target","value","preventDefault","collection","doc","set","then","console","log","catch","loading","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport FirebaseContext from '../utils/FirebaseContext'\nimport FirebaseService from '../services/FirebaseService'\n\nconst EditPage = (props) => (\n    <FirebaseContext.Consumer>\n        {firebase => <Edit firebase={firebase} id={props.match.params.id} />}\n    </FirebaseContext.Consumer>\n)\n\nclass Edit extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = { nome: '', curso: '', IRA: '' }\n\n        this.setNome = this.setNome.bind(this)\n        this.setCurso = this.setCurso.bind(this)\n        this.setIRA = this.setIRA.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    componentDidMount() {\n\n        /*this.props.firebase.getFirestore().collection('estudantes').doc(this.props.id).get()\n            .then((doc) => {\n                //console.log(res.data)\n                this.setState({\n                    nome: doc.data().nome,\n                    curso: doc.data().curso,\n                    IRA: doc.data().IRA\n                })\n            })\n            .catch(error => console.log(error))*/\n        FirebaseService.retrieve(this.props.firebase.getFirestore(),\n            (estudante) => {\n                if(estudante)\n                this.setState({\n                    nome: estudante.nome,\n                    curso: estudante.curso,\n                    IRA: estudante.IRA\n                })\n            },\n            this.props.firebase.getFirestore()\n        )\n    }\n\n    setNome(e) {\n        this.setState({ nome: e.target.value })\n    }\n\n    setCurso(e) {\n        this.setState({ curso: e.target.value })\n    }\n\n    setIRA(e) {\n        this.setState({ IRA: e.target.value })\n    }\n\n    onSubmit(e) {\n        e.preventDefault()\n        this.props.firebase.getFirestore().collection('estudantes').doc(this.props.id).set({\n            nome: this.state.nome,\n            curso: this.state.curso,\n            IRA: this.state.IRA\n        })\n            .then(() => {\n                console.log('Estudante editado.')\n            })\n            .catch(() => {\n                this.setState({ loading: false })\n            });\n    }\n\n    render() {\n        return (\n            <div style={{ marginTop: 10 }}>\n                <h3>Editar Estudante</h3>\n                <form onSubmit={this.onSubmit}>\n\n                    <div className=\"form-group\">\n                        <label>Nome: </label>\n                        <input type=\"text\" className=\"form-control\"\n                            value={this.state.nome} onChange={this.setNome} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Curso: </label>\n                        <input type=\"text\" className=\"form-control\"\n                            value={this.state.curso} onChange={this.setCurso} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>IRA: </label>\n                        <input type=\"text\" className=\"form-control\"\n                            value={this.state.IRA} onChange={this.setIRA} />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Editar Estudante\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n\n            </div>\n        )\n    }\n}\n\nexport default EditPage"]},"metadata":{},"sourceType":"module"}